import numpy as np
from moviepy.editor import concatenate_videoclips, TextClip

def  create_video(lyric_duration_data, path_to_audio="./audio.mp3", dest_path="placeholder"):
    screensize = (1920,1080)
    frames=[]
    for frame in lyric_duration_data:
        frames.append(TextClip(frame["line"],color='white', font="Amiri-Bold", kerning = 5, fontsize=50, size=screensize).set_pos('center').set_duration(frame["duration"]))
    combined_frames = concatenate_videoclips(frames, method="compose")
    combined_frames.write_videofile('lyric-video.mp4',fps=25,codec='mpeg4', audio=path_to_audio)

if __name__ == "__main__":                                
    sample_data = [{'line': ' ', 'duration': 2.94}, {'line': 'You good T Minus', 'duration': 0.7399999999999998}, {'line': "Niggas been counting me out I'm counting my bullets", 'duration': 2.209999999999999}, {'line': "I'm loading my clips", 'duration': 1.0000000000000018}, {'line': "I'm writing down names", 'duration': 1.0099990000000005}, {'line': "I'm making a list", 'duration': 0.9299989999999987}, {'line': "I'm checking it twice and I'm getting 'em hit", 'duration': 1.830001000000001}, {'line': 'The real ones been dying', 'duration': 1.0600000000000005}, {'line': 'The fake ones is lit', 'duration': 0.8500009999999989}, {'line': 'The game is off balance', 'duration': 1.0399999999999991}, {'line': "I'm back on my shit", 'duration': 0.889999999999997}, {'line': 'The Bentley is dirty', 'duration': 0.9200000000000017}, {'line': 'My sneakers is dirty', 'duration': 0.9600000000000009}, {'line': "But that's how I like it", 'duration': 0.9799999999999969}, {'line': 'You all on my dick', 'duration': 0.8900000000000006}, {'line': "I'm all in my bag", 'duration': 1.0000000000000036}, {'line': 'This hard as it get', 'duration': 0.860000000000003}, {'line': 'I do not snort powder', 'duration': 0.9899999999999984}, {'line': 'I might take a sip', 'duration': 0.9099999999999966}, {'line': 'I might hit the blunt', 'duration': 0.7900000000000027}, {'line': "But I'm liable to trip", 'duration': 0.9900009999999959}, {'line': "I ain't popping no pill", 'duration': 0.9099999999999966}, {'line': 'But you do as you wish', 'duration': 1.1500000000000021}, {'line': 'I roll with some fiends', 'duration': 1.009998999999997}, {'line': "I love 'em to death", 'duration': 0.8400000000000034}, {'line': 'I got a few mil', 'duration': 0.6099999999999994}, {'line': 'But not all of them rich', 'duration': 1.1400000000000006}, {'line': 'What good is the bread if my niggas is broke', 'duration': 1.8500000000000014}, {'line': "What good is first class if my niggas can't sit", 'duration': 2.009999999999991}, {'line': "That's my next mission", 'duration': 0.8500000000000014}, {'line': "That's why I can't quit", 'duration': 0.8700000000000045}, {'line': 'Just like LeBron', 'duration': 0.7000000000000028}, {'line': 'Get my niggas more chips', 'duration': 1.0499999999999972}, {'line': 'Just put the Rollie right back on my wrist', 'duration': 1.6599999999999966}, {'line': 'This watch came from Drizzy', 'duration': 0.8399999999999963}, {'line': 'He gave me a gift', 'duration': 0.9799989999999994}, {'line': "Back when the rap game was praying I'd diss", 'duration': 1.6899989999999931}, {'line': 'They act like two legends cannot coexist', 'duration': 1.8900000000000006}, {'line': "But I'd never beef with a nigga for nothing", 'duration': 1.9600000000000009}, {'line': 'If I smoke a rapper', 'duration': 0.9200000000000017}, {'line': "It's gon be legit", 'duration': 0.8200000000000003}, {'line': "It won't be for clout", 'duration': 0.9599990000000105}, {'line': "It won't be for fame", 'duration': 0.9500000000000028}, {'line': "It won't be 'cause my shit ain't selling the same", 'duration': 1.9299999999999997}, {'line': "It won't be to sell you my latest lil sneakers", 'duration': 1.8800000000000026}, {'line': "It won't be 'cause some nigga slid in my lane", 'duration': 1.9699999999999989}, {'line': 'Everything grows', 'duration': 0.8199990000000028}, {'line': "It's destined to change", 'duration': 1.009999999999998}, {'line': 'I love you lil niggas', 'duration': 0.8499999999999943}, {'line': "I'm glad that you came", 'duration': 1.0300000000000011}, {'line': "I hope that you scrape every dollar you can I hope you know money won't erase the pain", 'duration': 3.859999000000016}, {'line': "To the OG's", 'duration': 0.7700010000000077}, {'line': "I'm thanking you now", 'duration': 0.9000000000000057}, {'line': 'Was watching you when you was paving the ground', 'duration': 1.8799999999999955}, {'line': 'I copied your cadence', 'duration': 0.9200000000000017}, {'line': 'I mirrored your style', 'duration': 0.9300000000000068}, {'line': 'I studied the greats', 'duration': 0.8299999999999983}, {'line': "I'm the greatest right now", 'duration': 1.0499999999999972}, {'line': 'Fuck if you feel me', 'duration': 0.8499999999999943}, {'line': "You ain't got a choice", 'duration': 0.9399999999999977}, {'line': "Now I ain't do no promo", 'duration': 0.9100000000000108}, {'line': 'Still made all that noise', 'duration': 1.0}, {'line': 'This shit gon be different', 'duration': 0.980000000000004}, {'line': 'I set my intentions', 'duration': 0.9899999999999949}, {'line': 'I promise to slap all that hate out your voice', 'duration': 2.0000010000000117}, {'line': 'Niggas been counting me out', 'duration': 1.2399989999999974}, {'line': "I'm counting my bullets", 'duration': 0.9600010000000054}, {'line': "I'm loading my clips", 'duration': 0.9900000000000091}, {'line': "I'm writing down names", 'duration': 0.9900010000000066}, {'line': "I'm making a list I'm checking it twice and I'm getting 'em hit", 'duration': 2.7900009999999895}, {'line': 'The real ones been dying', 'duration': 1.0}, {'line': 'The fake ones is lit The game is off balance', 'duration': 1.8799999999999955}, {'line': "I'm back on my shit", 'duration': 0.9000000000000057}, {'line': 'The Bentley is dirty', 'duration': 0.9700000000000131}, {'line': 'My sneakers is dirty', 'duration': 0.960000000000008}, {'line': "But that's how I like it", 'duration': 0.8800000000000097}, {'line': 'You all on my dick', 'duration': 0.9999999999999858}, {'line': 'I just poured something in my cup', 'duration': 2.0200010000000077}, {'line': "I've been wanting something I can feel", 'duration': 2.0300000000000153}, {'line': 'Promise I am never lettin up', 'duration': 2.3699999999999903}, {'line': "Money in your palm don't make you real", 'duration': 2.0}, {'line': 'Foot is on they neck', 'duration': 1.2400010000000066}, {'line': "I got 'em stuck", 'duration': 0.8799999999999955}, {'line': "I'ma give 'em something they can feel", 'duration': 3.759999999999991}, {'line': "If it ain't 'bout the squad Don't give a fuck", 'duration': 3.890000000000015}, {'line': "Pistol in your hand don't make you real I'm dead in the middle of two generations", 'duration': 3.289999999999992}, {'line': "I'm little bro and big bro all at once", 'duration': 1.7599989999999934}, {'line': 'Just left the lab with young 21 Savage', 'duration': 1.9700000000000273}, {'line': "I'm 'bout to go and meet Jigga for lunch", 'duration': 1.6499999999999773}, {'line': 'Had a long talk with the young nigga Kodak', 'duration': 1.8900009999999838}, {'line': "Reminded me of young niggas from 'Ville", 'duration': 1.5200000000000102}, {'line': 'Straight out the projects', 'duration': 0.8799990000000264}, {'line': 'No faking just honest', 'duration': 0.9599989999999821}, {'line': 'I wish that he had more guidance for real', 'duration': 1.7199999999999989}, {'line': 'Too many niggas in cycle of jail', 'duration': 1.789999999999992}, {'line': 'Spending they birthdays inside of a cell', 'duration': 1.9099999999999966}, {'line': 'We coming from a long bloodline of trauma', 'duration': 1.7800000000000011}, {'line': 'We raised by our mamas', 'duration': 0.9799999999999898}, {'line': 'Lord we gotta heal', 'duration': 0.9000000000000057}, {'line': 'We hurting our sisters', 'duration': 0.9100009999999941}, {'line': 'The babies as well', 'duration': 1.049999000000014}, {'line': 'We killing our brothers', 'duration': 0.9300000000000352}, {'line': 'They poisoned the well', 'duration': 0.9600010000000054}, {'line': 'Distorted self image', 'duration': 0.9699999999999704}, {'line': 'We set up to fail', 'duration': 0.8999990000000082}, {'line': "I'ma make sure that the real gon prevail nigga", 'duration': 2.030000000000001}, {'line': 'I just poured something in my cup', 'duration': 2.2700000000000102}, {'line': "I've been wanting something I can feel", 'duration': 2.039999999999992}, {'line': 'Promise I am never lettin up', 'duration': 2.780000000000001}, {'line': "Money in your palm don't make you real", 'duration': 3.940000999999995}, {'line': 'Foot is on they neck', 'duration': 1.200000000000017}, {'line': "I got 'em stuck", 'duration': 1.039999999999992}, {'line': "I'ma give 'em something they can feel", 'duration': 1.7099999999999795}, {'line': "If it ain't 'bout the squad Don't give a fuck", 'duration': 2.340001000000001}, {'line': "Pistol in your hand don't make you real", 'duration': 2.219999999999999}]
    create_video(sample_data, "audio.mp3")